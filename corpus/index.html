<!DOCTYPE html>
<html>
<head>
    <title>辞書検索</title>
</head>
<body>
    <h1>辞書検索</h1>
    <input type="text" id="searchInput" placeholder="検索..." onkeyup="searchDictionary()">
    <button onclick="searchDictionary()">検索</button>

    <div id="results"></div>

    <script>
        // JSONデータを外部ファイルから読み込む
        fetch('./corpus.json')
            .then(response => response.json())
            .then(data => {
                var corpus = data;

                // 検索関数
                function searchDictionary() {
                    var input = document.getElementById("searchInput").value.toLowerCase();
                    var results = document.getElementById("results");
                    results.innerHTML = '';

                    corpus.forEach(function(item) {
                        if (item.example.toLowerCase().includes(input) ||
                            item.gross.toLowerCase().includes(input) ||
                            item.translation.toLowerCase().includes(input) ||
                            item.source.toLowerCase().includes(input)) {

                            var resultElement = document.createElement("p");
                            resultElement.innerHTML = "<strong>例: </strong>" + item.example + "<br>" +
                                "<strong>グロス: </strong>" + item.gross + "<br>" +
                                "<strong>翻訳: </strong>" + item.translation + "<br>" +
                                "<strong>出典: </strong>" + item.source + "<br>";
                            results.appendChild(resultElement);
                        }
                    });
                }
            })
            .catch(error => console.error('JSONデータの読み込みに失敗しました:', error));
    </script>
</body>
</html>
